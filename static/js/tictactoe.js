var x = "https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSOcbHdY5j6x2LVQrRCnctUKIeQ7Uy1rlhOjDZ6GPWZGtwQo9Gy";
// Location of where you uploaded your site's x.jpg image

var o = "data:image/png;base64,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";
// Location of where you uploaded your site's o.jpg image

var blank = "blank.png";
// Location of where you uploaded your site's blank.jpg image

var pause = 0;
var all = 0;
var a = 0;
var b = 0;
var c = 0;
var d = 0;
var e = 0;
var f = 0;
var g = 0;
var h = 0;
var i = 0;
var temp="";
var ok = 0;
var cf = 0;
var choice=9;
var aRandomNumber = 0;
var comp = 0;
var t = 0;
var wn = 0;
var ls = 0;
var ts = 0;
function help() {
alert("Welcome to Tic-Tac-Toe!  You play as the X's and the computer is the O's.  Select the square you want to put your X into by clicking them.  You cannot occupy a square that is already occupied. The first player to get three squares in a row wins.  Good Luck!!")
}
function logicOne() {
if ((a==1)&&(b==1)&&(c==1)) all=1;
if ((a==1)&&(d==1)&&(g==1)) all=1;
if ((a==1)&&(e==1)&&(i==1)) all=1;
if ((b==1)&&(e==1)&&(h==1)) all=1;
if ((d==1)&&(e==1)&&(f==1)) all=1;
if ((g==1)&&(h==1)&&(i==1)) all=1;
if ((c==1)&&(f==1)&&(i==1)) all=1;
if ((g==1)&&(e==1)&&(c==1)) all=1;
if ((a==2)&&(b==2)&&(c==2)) all=2;
if ((a==2)&&(d==2)&&(g==2)) all=2;
if ((a==2)&&(e==2)&&(i==2)) all=2;
if ((b==2)&&(e==2)&&(h==2)) all=2;
if ((d==2)&&(e==2)&&(f==2)) all=2;
if ((g==2)&&(h==2)&&(i==2)) all=2;
if ((c==2)&&(f==2)&&(i==2)) all=2;
if ((g==2)&&(e==2)&&(c==2)) all=2;
if ((a != 0)&&(b != 0)&&(c != 0)&&(d != 0)&&(e != 0)&&(f != 0)&&(g != 0)&&(h != 0)&&(i != 0)&&(all == 0)) all = 3;
}
function logicTwo() {
if ((a==2)&&(b==2)&&(c== 0)&&(temp=="")) temp="C";
if ((a==2)&&(b== 0)&&(c==2)&&(temp=="")) temp="B";
if ((a== 0)&&(b==2)&&(c==2)&&(temp=="")) temp="A";
if ((a==2)&&(d==2)&&(g== 0)&&(temp=="")) temp="G";
if ((a==2)&&(d== 0)&&(g==2)&&(temp=="")) temp="D";
if ((a== 0)&&(d==2)&&(g==2)&&(temp=="")) temp="A";
if ((a==2)&&(e==2)&&(i== 0)&&(temp=="")) temp="I";
if ((a==2)&&(e== 0)&&(i==2)&&(temp=="")) temp="E";
if ((a== 0)&&(e==2)&&(i==2)&&(temp=="")) temp="A";
if ((b==2)&&(e==2)&&(h== 0)&&(temp=="")) temp="H";
if ((b==2)&&(e== 0)&&(h==2)&&(temp=="")) temp="E";
if ((b== 0)&&(e==2)&&(h==2)&&(temp=="")) temp="B";
if ((d==2)&&(e==2)&&(f== 0)&&(temp=="")) temp="F";
if ((d==2)&&(e== 0)&&(f==2)&&(temp=="")) temp="E";
if ((d== 0)&&(e==2)&&(f==2)&&(temp=="")) temp="D";
if ((g==2)&&(h==2)&&(i== 0)&&(temp=="")) temp="I";
if ((g==2)&&(h== 0)&&(i==2)&&(temp=="")) temp="H";
if ((g== 0)&&(h==2)&&(i==2)&&(temp=="")) temp="G";
if ((c==2)&&(f==2)&&(i== 0)&&(temp=="")) temp="I";
if ((c==2)&&(f== 0)&&(i==2)&&(temp=="")) temp="F";
if ((c== 0)&&(f==2)&&(i==2)&&(temp=="")) temp="C";
if ((g==2)&&(e==2)&&(c== 0)&&(temp=="")) temp="C";
if ((g==2)&&(e== 0)&&(c==2)&&(temp=="")) temp="E";
if ((g== 0)&&(e==2)&&(c==2)&&(temp=="")) temp="G";
}
function logicThree() {
if ((a==1)&&(b==1)&&(c==0)&&(temp=="")) temp="C";
if ((a==1)&&(b==0)&&(c==1)&&(temp=="")) temp="B";
if ((a==0)&&(b==1)&&(c==1)&&(temp=="")) temp="A";
if ((a==1)&&(d==1)&&(g==0)&&(temp=="")) temp="G";
if ((a==1)&&(d==0)&&(g==1)&&(temp=="")) temp="D";
if ((a==0)&&(d==1)&&(g==1)&&(temp=="")) temp="A";
if ((a==1)&&(e==1)&&(i==0)&&(temp=="")) temp="I";
if ((a==1)&&(e==0)&&(i==1)&&(temp=="")) temp="E";
if ((a==0)&&(e==1)&&(i==1)&&(temp=="")) temp="A";
if ((b==1)&&(e==1)&&(h==0)&&(temp=="")) temp="H";
if ((b==1)&&(e==0)&&(h==1)&&(temp=="")) temp="E";
if ((b==0)&&(e==1)&&(h==1)&&(temp=="")) temp="B";
if ((d==1)&&(e==1)&&(f==0)&&(temp=="")) temp="F";
if ((d==1)&&(e==0)&&(f==1)&&(temp=="")) temp="E";
if ((d==0)&&(e==1)&&(f==1)&&(temp=="")) temp="D";
if ((g==1)&&(h==1)&&(i==0)&&(temp=="")) temp="I";
if ((g==1)&&(h==0)&&(i==1)&&(temp=="")) temp="H";
if ((g==0)&&(h==1)&&(i==1)&&(temp=="")) temp="G";
if ((c==1)&&(f==1)&&(i==0)&&(temp=="")) temp="I";
if ((c==1)&&(f==0)&&(i==1)&&(temp=="")) temp="F";
if ((c==0)&&(f==1)&&(i==1)&&(temp=="")) temp="C";
if ((g==1)&&(e==1)&&(c==0)&&(temp=="")) temp="C";
if ((g==1)&&(e==0)&&(c==1)&&(temp=="")) temp="E";
if ((g==0)&&(e==1)&&(c==1)&&(temp=="")) temp="G";
}
function clearOut() {
document.game.you.value="0";
document.game.computer.value="0";
document.game.ties.value="0";
}
function checkSpace() {
if ((temp=="A")&&(a==0)) {
ok=1;
if (cf==0) a=1;
if (cf==1) a=2;
}
if ((temp=="B")&&(b==0)) {
ok=1;
if (cf==0) b=1;
if (cf==1) b=2;
}
if ((temp=="C")&&(c==0)) {
ok=1;
if (cf==0) c=1;
if (cf==1) c=2;
}
if ((temp=="D")&&(d==0)) {
ok=1;
if (cf==0) d=1;
if (cf==1) d=2;
}
if ((temp=="E")&&(e==0)) {
ok=1;
if (cf==0) e=1;
if (cf==1) e=2;
}
if ((temp=="F")&&(f==0)) {
ok=1
if (cf==0) f=1;
if (cf==1) f=2;
}
if ((temp=="G")&&(g==0)) {
ok=1
if (cf==0) g=1;
if (cf==1) g=2;
}
if ((temp=="H")&&(h==0)) {
ok=1;
if (cf==0) h=1;
if (cf==1) h=2;
}
if ((temp=="I")&&(i==0)) {
ok=1;
if (cf==0) i=1;
if (cf==1) i=2;
}
}
function yourChoice(chName) {
pause = 0;
if (all!=0) ended();
if (all==0) {
cf = 0;
ok = 0;
temp=chName;
checkSpace();
if (ok==1) {
document.images[chName].src = x;
}
if (ok==0)taken();
process();
if ((all==0)&&(pause==0)) myChoice();
   }
}
function taken() {
alert("That square is already occupied.  Please select another square.")
pause=1;
}
function myChoice() {
temp="";
ok = 0;
cf=1;
logicTwo();
logicThree();
checkSpace();
while(ok==0) {
aRandomNumber=Math.random()
comp=Math.round((choice-1)*aRandomNumber)+1;
if (comp==1) temp="A";
if (comp==2) temp="B";
if (comp==3) temp="C";
if (comp==4) temp="D";
if (comp==5) temp="E";
if (comp==6) temp="F";
if (comp==7) temp="G";
if (comp==8) temp="H";
if (comp==9) temp="I";
checkSpace();
}
document.images[temp].src= o;
process();
}
function ended() {
alert("The game has already ended. To play a new game click the Play Again button.")
}
function process() {
logicOne();
if (all==1){ alert("You won, congratulations!"); wn++; }
if (all==2){ alert("Gotcha!  I win!"); ls++; }
if (all==3){ alert("We tied."); ts++; }
if (all!=0) {
document.game.you.value = wn;
document.game.computer.value = ls;
document.game.ties.value = ts;
   }
}
function playAgain() {
if (all==0) {
if(confirm("This will restart the game and clear all the current scores. OK?")) reset();
}
if (all>0) reset();
}
function reset() {
all = 0;
a = 0;
b = 0;
c = 0;
d = 0;
e = 0;
f = 0;
g = 0;
h = 0;
i = 0;
temp="";
ok = 0;
cf = 0;
choice=9;
aRandomNumber = 0;
comp = 0;
document.images.A.src= blank;
document.images.B.src= blank;
document.images.C.src= blank;
document.images.D.src= blank;
document.images.E.src= blank;
document.images.F.src= blank;
document.images.G.src= blank;
document.images.H.src= blank;
document.images.I.src= blank;
if (t==0) { t=2; myChoice(); }
t--;
}
  
        const cvs = document.getElementById("snake");
const context = cvs.getContext("2d");
//const text = "";
//const TEXT_SIZE = 40;
// create the unit
const box = 32;
//const gameOver = false;

var canv = document.getElementById("snake");
// load images

const ground = new Image();
ground.src = "static/imgSnake/ground.png";

const foodImg = new Image();
foodImg.src = "static/imgSnake/food.png";

// load audio files
let dead = new Audio();
let eat = new Audio();
let up = new Audio();
let right = new Audio();
let left = new Audio();
let down = new Audio();

dead.src = "static/audioSnake/dead.mp3";
eat.src = "static/audioSnake/eat.mp3";
up.src = "static/audioSnake/up.mp3";
right.src = "static/audioSnake/right.mp3";
left.src = "static/audioSnake/left.mp3";
down.src = "static/audioSnake/down.mp3";

// create the snake

var snake = new Array();
snake[0] = new Image();
snake[0].src = "static/imgSnake/snake.png";

snake[0] = {
    x : 9 * box,
    y : 10 * box
};

// create the food

let food = {
    x : Math.floor(Math.random()*17+1) * box,
    y : Math.floor(Math.random()*15+3) * box
}

// create the score var

let score = 0;

//control the snake

let d_2;

document.addEventListener("keydown",direction);

function direction(event){

    let key = event.keyCode;
    if( key == 37 && d != "RIGHT"){
        left.play();
        d_2 = "LEFT";
    }else if(key == 38 && d != "DOWN"){
        d_2 = "UP";
        up.play();
    }else if(key == 39 && d != "LEFT"){
        d_2 = "RIGHT";
        right.play();
    }else if(key == 40 && d != "UP"){
        d_2 = "DOWN";
        down.play();
    }
}

// cheack collision function
function collision(head,array){
    for(let i = 0; i < array.length; i++){
        if(head.x == array[i].x && head.y == array[i].y){
            return true;
        }
    }
    return false;
}



// draw everything to the canvas

function draw(){
    
    context.drawImage(ground,0,0);
    
    for( let i = 0; i < snake.length ; i++){
        var imgSrc = document.getElementById("icon");
        var imgRender = context.createPattern(imgSrc, 'repeat');
        context.fillStyle = imgRender;
        context.fillRect(snake[i].x,snake[i].y,box,box);
        context.fill();        
        context.strokeStyle = "#00008B";
        context.strokeRect(snake[i].x,snake[i].y,box,box);
        context.fill();
    }
    
    context.drawImage(foodImg, food.x, food.y);
    
    // old head position
    let snakeX = snake[0].x;
    let snakeY = snake[0].y;
    
    // which direction
    if( d == "LEFT") snakeX -= box;
    if( d == "UP") snakeY -= box;
    if( d == "RIGHT") snakeX += box;
    if( d == "DOWN") snakeY += box;
    
    // if the snake eats the food
    if(snakeX == food.x && snakeY == food.y){
        score++;
        eat.play();
        food = {
            x : Math.floor(Math.random()*17+1) * box,
            y : Math.floor(Math.random()*15+3) * box
        }
        // we don't remove the tail
    }else{
        // remove the tail
        snake.pop();
    }
    
    // add new Head
    
    let newHead = {
        x : snakeX,
        y : snakeY
    }
    
    // game over
    if(snakeX < box || snakeX > 17 * box || snakeY < 3*box || snakeY > 17*box || collision(newHead,snake)){
        clearInterval(game);
        dead.play();
    } /*else if (gameResult = false ){
      newGame();
    }*/
    
    snake.unshift(newHead);
    
    context.fillStyle = "white";
    context.font = "45px Changa one";
    context.fillText(score,2*box,1.6*box);
}

// call draw function every 100 ms

let game = setInterval(draw,130);